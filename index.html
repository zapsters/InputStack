<!DOCTYPE html>
<html>

<head>
      <link rel="stylesheet" type="text/css" href="style.css">
      <title>Input Stack!</title>
      <link rel="shortcut icon" type="image/png" href="https://zapsters.github.io/Home/images/ZapSIcon_C2.png" />
      <!-- GOOGLE'S MATERIAL ICONS SHEET https://fonts.google.com/icons -->
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>

<body>

      <!-- DIV POPUPS -->
      <div class="grayOutDivScreen" onclick="closeDiv();" id="grayOutDivScreen" style="display: none;">
            <p style="color:white;text-align:center;text-shadow: 2px 2px 2px rgba(0, 0, 0, 1);">Click anywhere to
                  close...</p>
            <div class="popupDiv" onclick="event.stopPropagation();" id="unscrambleKey">
                  <div class="closeButton" onclick="this.parentElement.style.display='none'; closeDiv();">
                        <p>X</p>
                  </div>
                  <p>UNSCRAMBLE KEY!</p>
                  <hr>
                  <div class="popupDivTable" id="uncrambleKey_content"></div>
            </div>
      </div>

      <div class="popupDiv gameoverDiv" id="gameover_div">
            <div class="gameoverHeader">
                  <h1>Game Over!</h1>
                  <p id="scoreText">Score: ####</p>
            </div>
            <div class="statsScreen">
                  <div>
                        <h2>Stats</h2>
                        <p>Time Survived: ##</p>
                        <p>Module Count: ##</p>
                        <p>Words Unscrambled: ##</p>
                        <p>Math Problems Solved: ##</p>
                        <p>Reset Buttons Clicked: ##</p>
                  </div>
                  <div>
                        <h2>Player Data</h2>
                        <p>Most Active Player: ##</p>
                        <p>Math Genius: ##</p>
                        <p>Word Master: ##</p>
                        <p>Reset Button Camper: ##</p>
                        <p>Least Active: ##</p>
                  </div>
            </div>
            <div>
                  <div id="gameover_NotHost" style="display: block">
                        <h4>Waiting for the host.</h4>
                  </div>
                  <div id="gameover_hostOptions" style="display: none">
                        <h4 style="margin-bottom: 0px">Host Options:</h4>
                        <div style="padding: 0 0 0 10px;">
                              <input type="button" class="buttonMain" onclick="if(host) resetGame();"
                                    value="Restart Game">
                              <input type="button" class="buttonMain" onclick="if(host) abandonRoom();"
                                    value="Quit Game">
                        </div>
                  </div>
            </div>
      </div>


      <!-- TITLE SCREEN -->
      <div id="screen_title">
            <!-- HEADER -->
            <div class="header">
                  <p onclick="toggleDebugMenu()">Input Stack!</p>
            </div>
      </div>
      <!-- DEBUG MENU -->
      <div class="debug_div" id="debug_menu_div" style="display: none;">
            <p class="noSpace">DEBUG</p>
            <p id="debug_menu_text" class="noSpace">Hi</p>
            <p class="noSpace"
                  onclick="if(extraDEBUG.style.display == 'block') {extraDEBUG.style.display = 'none';} else {extraDEBUG.style.display = 'block';}">
                  <u>Click for extraDebug</u>
            </p>
      </div>
      <center>
            <!-- BOTTOM DIV -->
            <div class="bottom_div" id="game_info" style="margin: 0; padding: 0; display: block;">
                  <p class="noSpace" id="versionDiv" style="right: 0;"></p>
                  <p class="noSpace" style="left: 0; bottom: 57px; display: none; font-size: 20px" id="footer_host">
                        <u>You are the host!</u>
                  </p>
                  <p class="noSpace" style="left: 0; bottom: 32px; display: none; font-size: 20px" id="footer_username">
                        Logged in as: *username*</p>
                  <p class="noSpace" style="left: 0; display: none; font-size: 20px; bottom: 7px;" id="footer_roomcode">
                        Roomcode: *roomcode*</p>
            </div>

            <div id="screen_joinGame">
                  <!-- Front Page Message -->
                  <div class="centeredHoriz" id="front_page_message_div" style="display: block; height:10px;">
                        <p class="noSpace" id="front_page_mainText"
                              style="font-size: 20px; height: 20px; padding: 3px 0px;">In Development</p>
                        <!--<p class="noSpace" id="front_page_subText" style="font-size: 20px; height: 20px; padding: 3px 0px;">Actively being updated.</p>-->
                  </div>

                  <!-- Front Page Join Game -->
                  <div class="centered_div" style="display: block;" id="joingame_div">
                        <div class="writableContent" style="max-width: 600px;">
                              <p class="noSpace" style="font-size: 40px;">JOIN GAME</p>
                              <input id="username_input" class="messagebox" maxlength="30" placeholder="USERNAME"
                                    style="margin: 10px 0px;" autocomplete="off"><br>
                              <input id="roomcode_input" class="messagebox" maxlength="6" placeholder="ROOM CODE"
                                    autocomplete="off">
                              <button id="joingame_btnid" class="buttonMain" onclick="joinroomFunction()"
                                    style="cursor: pointer; float: right">JOIN ROOM</button>
                              <button id="creategame_btnid" class="buttonMain" onclick="createroomFunction()"
                                    style="cursor: pointer; float: left;">CREATE ROOM</button><br><br><br><br>
                              <p id="subtext_joingame" class="question" style="font-size: 20px;"></p>
                        </div>
                  </div>
            </div>
      </center>

      <center>
            <!-- PLAYER SCREEN -->
            <div class="writableContent horizontal" style="display: none;" id="playerlist_div">
                  <p class="" style="font-size: 40px; margin: 0 0px; padding: 0px 0px;"><u>PLAYERS</u></p><br>
                  <li class="playerlist" id="playerlist_li">
                        <div>player example</div>
                        <div>player example</div>
                  </li>

                  <p id="subtext2_players" class="question"
                        style="font-size: 30px; padding: 0px 0px 0px 0px; margin: 0px 0 -7px 0;">WAITING FOR HOST<br>TO
                        START</p>
                  <button class="startbtn buttonMain"
                        onclick="firebase.database().ref(databasePrefix + roomcode + '/data').update({_startgame: 1});"
                        id="startbtn" style="cursor: pointer; display: none;">START GAME</button>
            </div>
      </center>


      <!-- MAIN GAMEPLAY SCREEN ==================================== -->
      <div id="screen_main_gameplay"
            style="position: flex; margin: auto; text-align: center; max-width: 1300px; display: none; position: relative; top: -80px;">
            <div class="headerContainer headerSTICKY" id="header">
                  <p id="game_health_text" style="position: flex; margin-right: auto; top: 4px;">HEALTH: 100</p>
                  <p id="game_gameTimer_text" style="position: absolute; right: 0px; padding-right:10px; top: 4px;">
                        00:00</p>
                  <p id="game_moduleCount_text" style="position: absolute; left: 0px; padding-left:10px; top: 4px;">
                        Modules: 0</p>
            </div>
            <br>
            <span>
                  <p id="game_timeTillNextModule_text" style="display: inline; padding: 0px; margin: 0px;">Time
                        till
                        next module: </p>
                  <p style="display: inline; padding: 0px 10px 0px 10px; margin: 0px;"> | </p>
                  <p style="display: inline; padding: 0px; margin: 0px;">Unused Text Here.</p>
            </span>
            <div class="moduleContainer" id="moduleContainer">
                  <!-- DIV for all inputGroups -->
            </div>
            <br><br>
            <div id="extraDEBUG" style="display: none">
                  <hr>
                  <button onclick="toggleGameLoop(false);">toggleGameLoop(false)</button>
                  <button onclick="toggleGameLoop(true);">toggleGameLoop(true)</button>
                  <br>
                  <button onclick="startGame();">Start Game</button>
                  <button onclick="resetGame();">Reset Game</button>
                  <button onclick="initializeModule();">Create Module</button>
                  <button onclick="initializeGame();">initializeGame()</button>
                  <button
                        onclick="host = !host; createText(' ---- host = '+host); this.innerHTML = 'Set host = ' + !host;">Set
                        host = true</button>
                  <button onclick="takeDamage(5)">Deal 5 damage</button>
                  <button onclick="takeDamage(-5)">Heal by 5</button>
                  <button
                        onclick="var display = document.getElementById('TEMPLATEmoduleContainer').style.display; if(display == 'block'){document.getElementById('TEMPLATEmoduleContainer').style.display='none'}else{document.getElementById('TEMPLATEmoduleContainer').style.display='block'}">ToggleTemplate
                        Div</button><br>
                  <br>
                  <p style="padding:0px; margin: 0px;">MODULE LIST</p>
                  <button onclick="initializeModule('module_simple_01')">Spawn Slider Div</button>
                  <button onclick="initializeModule('module_reset_module_01')">Spawn Reset Div</button>
                  <button onclick="initializeModule('module_unscramble_01')">Spawn Unscramble Div</button>
                  <button onclick="initializeModule('module_math_01')">Spawn Math Div</button>
                  <br>
                  <p onclick="resetInputFields()">resetInputFields() [Click to reset the database and current
                        fields]
                  </p>
                  <p onclick="resetGame()">GAME_RESET() [Database and local]</p>
                  <hr>
                  <!-- TEMPLATE DIV -->
                  <div class="moduleContainer" id="TEMPLATEmoduleContainer" style="display: block">
                        <!-- TEMPLATE_module_simple_01 -->
                        <div class="inputGroup" id="TEMPLATE_module_simple_01">
                              <p class="inputmodule_DEVtitle" id="DEVtitle">TEMPLATE_module_simple_01</p>
                              <p class="inputmodule_title" id="title">KEEP ABOVE!</p>
                              <hr style="top:25px">
                              <div class="RangeGroup" style="width: 80%; position: absolute; top: 41px; left: 10px;">
                                    <p
                                          style="margin-bottom:12px; text-decoration: underline; font-weight: bold; margin-left: 3px">
                                          Keep High</p>
                                    <input type="range" class="slider" id="input_range_01" value="100">
                                    <input type="range" class="slider" id="input_range_02" value="100">
                              </div>
                        </div>
                        <!-- TEMPLATE_reset_module_01 -->
                        <div class="inputGroup" id="TEMPLATE_module_reset_module_01">
                              <p class="inputmodule_DEVtitle" id="DEVtitle">TEMPLATE_module_reset_module_01</p>
                              <p class="inputmodule_title" id="title">TIMER!</p>
                              <p class="inputmodule_title" style="right:10px" id="timer">30</p>
                              <hr style="top:25px">
                              <button id="input_reset_button" class="button"
                                    style="width:70%; height: 60%; margin: 0; position: absolute; bottom: 50%; left: 50%; -ms-transform: translate(-50%, 60%); transform: translate(-50%, 60%);">RESET!!</button>
                        </div>
                        <!-- TEMPLATE_module_unscramble_01 -->
                        <div class="inputGroup" id="TEMPLATE_module_unscramble_01">
                              <p class="inputmodule_DEVtitle" id="DEVtitle">TEMPLATE_module_unscramble_01</p>
                              <p class="inputmodule_title" id="title">UNSCRAMBLE!</p>
                              <p class="inputmodule_title" style="right:10px" id="timer">100</p>
                              <p class="inputmodule_clickableIcon" onclick="openDiv('unscrambleKey');"
                                    style="text-align:center;" id="timer"><span
                                          class="material-icons md-18">view_list</span></p>
                              <hr style="top:25px">
                              <center>
                                    <p class="center" id="results_text"
                                          style="font-weight: bold; font-size: 23px; margin: 0; position: absolute; top: 52px; left: 50%; -ms-transform: translate(-50%, -50%); transform: translate(-50%, -50%); color: #b50000; text-decoration: underline;">
                                    </p>
                                    <p class="center" id="scrambled_word_text"
                                          style="width: 100%; height: 40px; font-weight: bold; font-size: 20px; margin: 0; position: absolute; bottom: 45%; left: 50%; -ms-transform: translate(-50%, 0%); transform: translate(-50%, 0%);">
                                          WORD</p>
                                    <p class="center" id="UNscrambled_word_text"
                                          style="display: none; font-size: 20px; margin: 0; position: absolute; bottom: 70px; left: 50%; -ms-transform: translate(-50%, -50%); transform: translate(-50%, -50%);">
                                          WORD</p>
                                    <div class="RangeGroup"
                                          style="margin: auto; width: 100%; display: inline; bottom: 20px; left: 0px;">
                                          <input type="text"
                                                style="width:95%; text-align: center; margin-bottom: 6px; -ms-transform: translate(50%, 60%); transform: translate(-0px, 0%); font-size:16px;"
                                                class="input" id="input_unscrambledWord"
                                                placeholder="Type Here..."></input>
                                          <input type="button" style="width: 95%;" class="button" value="Submit"
                                                id="input_submit_button"></input>
                                    </div>
                              </center>
                        </div>
                        <!-- TEMPLATE_module_math_01 -->
                        <div class="inputGroup" id="TEMPLATE_module_math_01">
                              <p class="inputmodule_DEVtitle" id="DEVtitle">TEMPLATE_module_math_01</p>
                              <p class="inputmodule_title" id="title">SIMPLE MATH!</p>
                              <p class="inputmodule_title" style="right:10px" id="timer">60</p>
                              <hr style="top:25px">
                              <center>
                                    <p class="center" id="results_text"
                                          style="font-weight: bold; font-size: 23px; margin: 0; position: absolute; top: 22%; left: 50%; -ms-transform: translate(-50%, -50%); transform: translate(-50%, -50%); color: #b50000; text-decoration: underline;">
                                    </p>
                                    <p class="center" id="math_question_text"
                                          style="width: 100%; height: 40px; font-weight: bold; font-size: 20px; margin: 0; position: absolute; bottom: 45%; left: 50%; -ms-transform: translate(-50%, 0%); transform: translate(-50%, 0%);">
                                          MATH QUESTION</p>
                                    <p class="center" id="math_answer_text"
                                          style="display: none; font-size: 20px; margin: 0; position: absolute; bottom: 70px; left: 50%; -ms-transform: translate(-50%, -50%); transform: translate(-50%, -50%);">
                                          ANSWER</p>
                                    <div class="RangeGroup"
                                          style="margin: auto; width: 100%; display: inline; bottom: 20px; left: 0px;">
                                          <input type="text"
                                                style="width:95%; text-align: center; margin-bottom: 6px; -ms-transform: translate(50%, 60%); transform: translate(-0px, 0%); font-size:16px;"
                                                class="input" id="input_math_response" placeholder="Type Here...">
                                          <input type="button" style="width: 95%;" class="button" value="Submit"
                                                id="input_submit_button">
                                    </div>
                              </center>
                        </div>
                  </div>
                  <hr>
                  <p>GOOGLE'S ICONS! See https://fonts.google.com/icons!</p>
                  <p>
                        <span class="material-icons md-18">face</span>
                        <span class="material-icons md-18">search</span>
                        <span class="material-icons md-18">info</span>
                        <span class="material-icons md-18">visibility</span>
                        <span class="material-icons md-18">description</span>
                        <span class="material-icons md-18">help_outline</span>
                        <span class="material-icons md-18">list</span>
                        <span class="material-icons md-18">help</span>
                        <span class="material-icons md-18">article</span>
                        <span class="material-icons md-18">question_answer</span>
                        <span class="material-icons md-18">view_list</span>
                        <span class="material-icons md-18">text_snippet</span>
                        <span class="material-icons md-18">notes</span>
                  </p>
                  </hr>
                  <input type="text" id="input_textbox_01" value="testing input"></input>
                  <input type="checkbox" id="input_checkbox_01" checked="true"></input>
                  <hr>
                  <div>
                        <p style="margin-bottom:3px;"><u>INPUT-OBJECTS</u></p>
                        <p id="INPUT_OBJECTS" class="indented">UserInputObjects = </p>
                        <p id="CURRENT_GROUPSDIV" class="indented">CurrentGroups = </p>
                  </div>
                  <hr>
                  <div>
                        <p style="margin-bottom:3px;"><u>DATABASE-STUFF</u></p>
                        <p id="DATABASE_OBJECTS" class="indented">DatabaseObjects</p>
                  </div>
                  <hr>
                  <p style="margin-bottom:0px;padding-bottom:0px;">TODO:</p>
                  <p class="indented">
                        AUTOMATIC MODULE SPAWNING! Have a random timer or something.<br>
                        End game screen - Total Time and Modules!<br>
                        Restart button / Functions on the End Game Screen!<br>
                        Then possibly a modifier tab! Change Tick Speed, Initial Module Count ETC.
                  </p>
                  <hr>
                  <p>LOG</p>
                  <div id="textLayer" style="white-space: nowrap"></div>
            </div>
      </div>
      <!-- DATABASE SCRIPTS -->
      <script src="https://www.gstatic.com/firebasejs/7.22.1/firebase-app.js"></script>
      <script src="https://www.gstatic.com/firebasejs/7.22.1/firebase-auth.js"></script>
      <script src="https://www.gstatic.com/firebasejs/7.22.1/firebase-firestore.js"></script>
      <script src="https://www.gstatic.com/firebasejs/7.22.1/firebase-functions.js"></script>
      <script src="https://www.gstatic.com/firebasejs/7.22.1/firebase-database.js"></script>

      <!-- SCRIPT REFERENCES -->
      <script src="firebase.js"></script>
      <script src="wordBank.js"></script>
      <script src="gameScreens.js"></script>

      <script src="gameData.js"></script>
      <script>
            versionText.innerHTML = version;
      </script>
</body>

</html>